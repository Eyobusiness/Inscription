<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feu Tricolore</title>
  <style>
    /* Style de base pour le feu tricolore */
    .traffic-light {
      width: 100px;
      height: 300px;
      background-color: #333;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      align-items: center;
      border-radius: 10px;
      padding: 10px;
    }

    .light {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: gray;
    }

    /* Lumières actives */
    #red.active { background-color: red; }
    #yellow.active { background-color: yellow; }
    #green.active { background-color: green; }

    /* Bouton de démarrage */
    button {
      margin-top: 20px;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="traffic-light">
    <div id="red" class="light"></div>
    <div id="yellow" class="light"></div>
    <div id="green" class="light"></div>
  </div>
  <button id="start">Démarrer</button>
  <button id="stop">Arrêt</button>

  <script>// Boutons et éléments de la page
    const startButton = document.getElementById('start');
    const stopButton = document.getElementById('stop');
    
    
    // Liste des lumières et durées
    const lights = [
      { id: 'red', duration: 5000 },
      { id: 'yellow', duration: 2000 },
      { id: 'green', duration: 4000 }
    ];
    
    let currentIndex = 0; // Lumière active
    let interval; // Variable pour gérer l'arrêt
    
    // Fonction pour changer les lumières
    function switchLight() {
      // Éteindre toutes les lumières
      document.querySelectorAll('.light').forEach(light => light.classList.remove('active'));
    
      // Activer la lumière courante
      const currentLight = lights[currentIndex];
      document.getElementById(currentLight.id).classList.add('active');
    
      // Passer à la lumière suivante après la durée
      interval = setTimeout(() => {
        currentIndex = (currentIndex + 1) % lights.length;
        switchLight();
      }, currentLight.duration);
    }
    
    // Fonction pour arrêter le cycle
    function stopTrafficLight() {
      clearTimeout(interval); // Arrêter l'intervalle
      document.querySelectorAll('.light').forEach(light => light.classList.remove('active'));
    }
    
    // Événements des boutons
    startButton.addEventListener('click', () => {
      stopTrafficLight(); // Réinitialiser si le feu est déjà en cours
      switchLight(); // Démarrer le cycle
    });
    
    stopButton.addEventListener('click', stopTrafficLight);
    
    </script>
</body>
</html>
